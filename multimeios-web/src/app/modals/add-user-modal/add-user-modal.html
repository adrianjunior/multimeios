<div *ngIf="loading == true" class="spinner-container" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="32px">
  <mat-spinner color="background-color"></mat-spinner>
  <h1 class="spinner-text">Cadastrando Usuário...</h1>
</div>

<mat-tab-group  *ngIf="loading == false">
  <mat-tab label="Cadastrar Aluno" fxLayout="column" fxLayoutAlign="center center">
    <mat-card fxFlex="600px">
      <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="15px" #form1="ngForm">
        <mat-card-title class="title">Cadastrar Aluno</mat-card-title>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="Nome do Aluno" ngModel name="name" required #unInput="ngModel">
          <mat-error *ngIf="unInput.hasError('required')">Você deve colocar o nome do aluno.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <mat-select placeholder="Turma do Aluno" required name="class" ngModel #ucInput="ngModel">
            <mat-option *ngFor="let class of classes" [value]="class">
              {{class}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="ucInput.hasError('required')">Você deve colocar a turma do aluno.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="E-Mail do Aluno" ngModel name="email" required #ueInput="ngModel">
          <mat-error *ngIf="ueInput.hasError('required')">Você deve colocar o email do aluno.</mat-error>
        </mat-form-field>
  
        <div fxLayout fxLayoutGap="20px" class="v-input">
          <button mat-raised-button class="dialog-button" color="warn" (click)="closeDialog()">Cancelar</button>
          <button mat-raised-button class="dialog-button" color="primary" [disabled]="form1.invalid" (click)="addUser(form1, 0)">Cadastrar Aluno</button>
        </div>
      </form>    
    </mat-card>
  </mat-tab>
  <mat-tab label="Cadastrar Professor" fxLayout="column" fxLayoutAlign="center center">
    <mat-card fxFlex="600px" class="mat-elevation-z2">
      <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="15px" #form2="ngForm">
        <mat-card-title class="title">Cadastrar Professor</mat-card-title>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="Nome do Professor" ngModel name="name" required #unInput="ngModel">
          <mat-error *ngIf="unInput.hasError('required')">Você deve colocar o nome do professor.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <mat-select placeholder="Matéria do Professor" required name="subject" ngModel #ucInput="ngModel">
            <mat-option *ngFor="let subject of subjects" [value]="subject">
              {{subject}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="ucInput.hasError('required')">Você deve colocar a matéria do professor.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="E-mail do Professor" ngModel name="email" required #ueInput="ngModel">
          <mat-error *ngIf="ueInput.hasError('required')">Você deve colocar o email do professor.</mat-error>
        </mat-form-field>
  
        <div fxLayout fxLayoutGap="20px" class="v-input">
          <button mat-raised-button class="dialog-button" color="warn" (click)="closeDialog()">Cancelar</button>
          <button mat-raised-button class="dialog-button" color="primary" [disabled]="form2.invalid" (click)="addUser(form2, 1)">Cadastrar Professor</button>
        </div>
      </form>    
    </mat-card>
  </mat-tab>
  <mat-tab label="Cadastrar Outros" fxLayout="column" fxLayoutAlign="center center">
    <mat-card fxFlex="600px" class="mat-elevation-z2">
      <form fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="15px" #form3="ngForm">
        <mat-card-title class="title">Cadastrar Outro Usuário</mat-card-title>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="Nome do Usuário" ngModel name="name" required #unInput="ngModel">
          <mat-error *ngIf="unInput.hasError('required')">Você deve colocar o nome do usuário.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="Função do Usuário" ngModel name="role" required #ueInput="ngModel">
          <mat-error *ngIf="ucInput.hasError('required')">Você deve colocar a função do usuário.</mat-error>
        </mat-form-field>
  
        <mat-form-field class="v-input">
          <input type="text" matInput placeholder="E-mail do Usuário" ngModel name="email" required #ueInput="ngModel">
          <mat-error *ngIf="ueInput.hasError('required')">Você deve colocar o email do usuário.</mat-error>
        </mat-form-field>
  
        <div fxLayout fxLayoutGap="20px" class="v-input">
          <button mat-raised-button class="dialog-button" color="warn" (click)="closeDialog()">Cancelar</button>
          <button mat-raised-button class="dialog-button" color="primary" [disabled]="form3.invalid" (click)="addUser(form3, 2)">Cadastrar Professor</button>
        </div>
      </form>    
    </mat-card>
  </mat-tab>
</mat-tab-group>